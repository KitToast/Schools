

% http://www2.informatik.uni-freiburg.de/~frank/latex-kurs/latex-kurs-3/farben/Extra-Farben.pdf


\documentclass[
% serif,
% mathsans,
%  handout,
xcolor=dvipsnames,
]
{beamer}
% \usetheme[height=1cm]{Rochester}
% \usetheme{Malmoe}
\usetheme{Pittsburgh}
\useinnertheme{circles}
\setbeamertemplate{enumerate items}[default]
% \useoutertheme[compress,subsection=false]{miniframes}
\usecolortheme{rose}
\setbeamertemplate{navigation symbols}{}

\usefonttheme[butsansserifmath]{serif}

\setbeamertemplate{blocks}[rounded][shadow=false]

% \usetheme{default}
\usepackage[T1]{fontenc}
\usepackage[utf8]{inputenc}
\usepackage{verbatim}
\usepackage{csquotes}
\usepackage{graphicx}

% \usepackage{amsmath, amsthm}
% \usepackage{amssymb}


% \usepackage[bitstream-charter]{mathdesign}
\usepackage[charter,expert]{mathdesign}
\usepackage[scaled=.96,osf]{XCharter}% matches the size used in math
 \linespread{1.04}

\usepackage{xspace}

\RequirePackage{xcolor}
\RequirePackage[color,all,2cell]{xy}\SelectTips{cm}{12}\SilentMatrices\UseAllTwocells  % commutative diagrams

\usepackage{tikz}\usetikzlibrary{decorations.pathmorphing,arrows,decorations.text}

\newcommand{\plan}[1]{\textcolor{red}{#1}}

\definecolor{dkblue}{rgb}{0,0.1,0.5}
\definecolor{lightblue}{rgb}{0,0.5,0.5}
\definecolor{dkgreen}{rgb}{0,0.4,0}
\definecolor{dk2green}{rgb}{0.4,0,0}
\definecolor{dkviolet}{rgb}{0.6,0,0.8}

\newenvironment<>{goalblock}[1]{%
  \setbeamercolor{block title}{bg=Goldenrod!50!white}
%   \setbeamercolor{block body}{fg=black,bg=cyan!25!white}%
  \begin{block}#2{#1}}{\end{block}}

% https://tex.stackexchange.com/questions/50747/options-for-appearance-of-links-in-hyperref
\hypersetup{
colorlinks=true
}


%
% \usepackage{listings}
% \newcommand{\sss}{\ttfamily\bfseries\small}
% \def\lstlanguagefiles{defManSSR.tex}\lstset{language=SSR}




\title{Set-level mathematics}
\author{Joj Ahrens}% \inst{1} \\~\\joint work with K.\ Kapulkin\inst{2} and M.\ Shulman\inst{3}}
% \date{2011--09--11}
% \date{Sept 11, 2011}
% \institute{CIMI, Universit√© Paul Sabatier} % \\\inst{2} University of Western Ontario  \inst{3} University of San Diego}
\date{}

% \setbeamertemplate{footline}
% {%
%   \leavevmode%
%   \hbox{\begin{beamercolorbox}[wd=.3\paperwidth,ht=2.5ex,dp=1.125ex,leftskip=.3cm plus1fill,rightskip=.3cm]{author in head/foot}%
%     \usebeamerfont{author in head/foot}\insertshortauthor
%   \end{beamercolorbox}%
%   \begin{beamercolorbox}[wd=.7\paperwidth,ht=2.5ex,dp=1.125ex,leftskip=.3cm,rightskip=.3cm plus1fil]{title in head/foot}%
%     \usebeamerfont{title in head/foot}\insertshorttitle\hfill\insertframenumber/\inserttotalframenumber
%   \end{beamercolorbox}}%
%   \vskip0pt%
% }



\newcommand{\fat}[1]{\textbf{#1}}
\newcommand{\constfont}[1]{\ensuremath{\mathsf{#1}}}
\newcommand{\source}{\constfont{source}}
\newcommand{\target}{\constfont{target}}
% \newcommand{\id}{\constfont{id}}
\newcommand{\C}{\ensuremath{\mathcal{C}}}
\newcommand{\D}{\ensuremath{\mathcal{D}}}
\newcommand{\CC}{\ensuremath{\hat{\mathcal{C}}}}
\newcommand{\Set}{\constfont{Set}}
\newcommand{\Grp}{\constfont{Grp}}
\newcommand{\Rng}{\constfont{Rng}}
\newcommand{\ot}{\ensuremath{\leftarrow}}
% \def\xiso#1{\mathrel{\mathrlap{\smash{\xto[\smash{\raisebox{1.3mm}{$\scriptstyle\sim$}}]{#1}}}\hphantom{\xto{#1}}}}
% \def\toiso{\xto{\smash{\raisebox{-.5mm}{$\scriptstyle\sim$}}}}
\newcommand{\toiso}{\xrightarrow{\sim}}
\newcommand{\otiso}{\xleftarrow{\sim}}
% \newcommand{\blank}{\mathord{\hspace{1pt}\text{--}\hspace{1pt}}}
\newcommand{\isIso}[1]{\ensuremath{\constfont{isiso}({#1})}}
\newcommand{\Iso}[2]{\ensuremath{\constfont{iso}({#1},{#2})}}
\newcommand{\sm}[2]{\ensuremath{\sum_{#1}{#2}}}
\newcommand{\isUniv}[1]{\ensuremath{\constfont{isUniv}({#1})}}
\newcommand{\idtoeq}{\constfont{idtoequiv}}
\newcommand{\eqtoid}{\constfont{equivtoid}}
% \newcommand{\idtoiso}{\constfont{idtoiso}}
\newcommand{\Path}{\constfont{Path}}
% \newcommand{\refl}[2][]{\constfont{refl}_{#1}({#2})}
\newcommand{\Equiv}{\constfont{Equiv}}
\newcommand{\U}{\constfont{U}}
\newcommand{\Nat}{\constfont{Nat}}
\newcommand{\Bool}{\constfont{Bool}}
\newcommand{\Suc}{\constfont{Suc}}
\newcommand{\entails}{\ensuremath{ \enspace \vdash \enspace }}
\newcommand{\defined}{\ensuremath{\enspace\stackrel{\text{def}}{=}\enspace }}
\newcommand{\iso}{\constfont{iso}}
\newcommand{\comp}{\ensuremath{(\circ)}}
\newcommand{\RC}[1]{\ensuremath{\constfont{RC}({#1})}}
\newcommand{\GrpStructure}{\constfont{GrpStructure}}
\newcommand{\hProp}{\constfont{hProp}}
\newcommand{\hSet}{\constfont{hSet}}
\newcommand{\isofhlevel}{\constfont{isofhlevel}}
\newcommand{\iscontr}{\constfont{iscontr}}
\newcommand{\isaprop}{\constfont{isaprop}}
\newcommand{\eqv}[2]{\ensuremath{#1 \simeq #2}\xspace}



%%% Transport (covariant) %%%
\newcommand{\trans}[2]{\ensuremath{{#1}_{*}\mathopen{}\left({#2}\right)\mathclose{}}\xspace}
\let\Trans\trans
%\newcommand{\Trans}[2]{\ensuremath{{#1}_{*}\left({#2}\right)}\xspace}
\newcommand{\transf}[1]{\ensuremath{{#1}_{*}}\xspace} % Without argument
%\newcommand{\transport}[2]{\ensuremath{\mathsf{transport}_{*} \: {#2}\xspace}}
\newcommand{\transfib}[3]{\ensuremath{\mathsf{transport}^{#1}(#2,#3)\xspace}}
\newcommand{\Transfib}[3]{\ensuremath{\mathsf{transport}^{#1}\Big(#2,\, #3\Big)\xspace}}
\newcommand{\transfibf}[1]{\ensuremath{\mathsf{transport}^{#1}\xspace}}
\newcommand{\id}[3][]{\ensuremath{#2 =_{#1} #3}\xspace}



% \newcommand{\jdeq}{\equiv}      % An equality judgment

% \renewcommand{\leadsto}{=}


\newcommand{\spread}{\addtolength{\itemsep}{10pt}}


\newcommand{\outlinetitle}{Outline}

\AtBeginSection[]
{
  \begin{frame}<beamer>{\outlinetitle}
    \tableofcontents[currentsection]
  \end{frame}
}

\AtBeginSubsection[]
{
  \begin{frame}<beamer>{\outlinetitle}
    \tableofcontents[currentsection,currentsubsection]
  \end{frame}
}

\theoremstyle{definition}
\newtheorem{exercise}{Exercise}

\begin{document}




\begin{frame}
 \titlepage
\end{frame}

\begin{frame}
 \frametitle{\outlinetitle}
 \tableofcontents
\end{frame}


\section{Reminder: H-Levels}

\begin{frame}
 \frametitle{Definition of H-Levels}
   \begin{align*}
       \isofhlevel(n,X) &: \Nat \to \U \to \hProp
    \\ \isofhlevel(0,X) &:= \iscontr(X)
    \\ \isofhlevel(S(n),X) &:= \prod_{x,x': X}\isofhlevel(n,x=x')
   \end{align*}

   \begin{definition}
      A \fat{set} is a type of hlevel 2.
   \end{definition}

      Under the intended semantics, this means that for any two parallel paths in a \emph{set}, the space of homotopies between them is contractible. This condition is equivalent to being homotopy equivalent to a discrete space.

\end{frame}

\begin{frame}
 \frametitle{Closure properties}

   \begin{itemize}
    \item $\sum_{x:A}B(x)$ is a set if $A$ and all $B(x)$ are
    \item $A \times B$ is a set if $A$ and $B$ are
    \item $\prod_{x:A}B(x)$ is a set if all $B(x)$ are
    \item $A \to B$ is a set if $B$ is
   \end{itemize}

   \begin{itemize}
    \item $A$ is a set if it is a property
   \end{itemize}

   \begin{exercise}
          Do you know

     \begin{itemize}
      \item a type that is a set?
      \item a type for which you don't know (yet) whether it is a set?
     \end{itemize}

   \end{exercise}


\end{frame}


\section{How to show that something is (not) a set?}

\begin{frame}
 \frametitle{Decidable equality}

    \begin{definition}
     A type $X$ is \fat{decidable} if we can write a term of type
     \[     X + \neg X \]
    \end{definition}

    \begin{definition}
     A type $X$ has \fat{decidable path-equality} if we can write a term of type
     \[  \prod_{x, x' : A} (x = x') + \neg(x=x') \]
     (that is, if all its paths types are decidable)
    \end{definition}

\end{frame}

\begin{frame}
  \frametitle{Hedberg's theorem}

  \begin{theorem}
   If a type $X$ has decidable equality, then it is a set.
  \end{theorem}



  In the problem session, we will show that $\Bool$ and $\Nat$ are sets.

\end{frame}

\begin{frame}
 \frametitle{Are all types sets?}
  \begin{block}{Is there a type that is not a set?}
    Great question! It depends:

    \begin{itemize}
     \item In ``spartan'' type theory some types cannot be shown to be sets.
     \item In univalent type theory some types can shown not to be sets.
    \end{itemize}
  \end{block}

  From now on, we consider \fat{univalent type theory}.

\end{frame}


\begin{frame}
 \frametitle{Another set}

  \begin{theorem}
    The type
     \[  \hProp_\U := \sum_{X : \U} \isaprop(X) \]
    is a set.
  \end{theorem}

  The proof relies on the univalence axiom for the unviverse $\U$.


  \begin{exercise}
    How would you generalize the above statement to any h-level?
    How would you attempt proving it?
  \end{exercise}

\end{frame}

\begin{frame}
 \frametitle{Types that are \fat{not} sets}

  \begin{exercise}
     Let $\U$ be a univalent universe that contains the type $\Bool$.
     Why is $\U$ not a set?
  \end{exercise}

  Which property of $\Bool$ does the proof of the above result exploit?

\end{frame}

\begin{frame}
 \frametitle{Sets and propositions}

 It is often useful for types representing ``properties'' to be propositions (as we'll see later).

 Properties involving equality are usually propositions when the types involved are \emph{sets}, but in general care is needed:
 given $f : X \to Y$,
 \[   \constfont{isInjective}(f) := \prod_{x, x' : X} f(x) = f(x') \to x = x' \]
 is not a proposition in general, but it is if $X$ and $Y$ are sets.
\end{frame}


\section{Set-level quotient}


% \begin{frame}
%  \frametitle{Reminder: quotient}
%
%     Given set $X$ and relation $R$ on $X$, the \fat{quotient}
%        \[ X \xrightarrow{p} X/R \] is defined as
%     the unique pair $(X/R, p)$ such that any \fat{compatible} map $f$ factorizes via $p$:
%     \[
%       \begin{xy}
% 	\xymatrix@!=5em{
% 	             X \ar[d]_{p} \ar[rd]^{f} & \\
% 	             X/R \ar[r]_{\exists !~ f'} &  Y
% 	    }
%       \end{xy}
%     \]
%
%     that is,
%
%       \[  \left\{f : X \to Y \enspace | \enspace \constfont{iscompatible}(f) \right\} \quad \cong \quad X/R \to Y \]
% %     \[  \sum_{f : X \to Y}\constfont{iscompatible}(f) \quad \simeq \quad X/R \to Y \]
%
% \end{frame}

\begin{frame}
\frametitle{Set-level quotient}

    Given type $X$ and relation $R$ on $X$, the \fat{quotient}
       \[ X \xrightarrow{p} X/R \] is defined as
    the unique pair $(X/R, p)$ such that any compatible map $f$ \fat{into a set $Y$} factors via $p$:
    \[
      \begin{xy}
	\xymatrix@!=3em{
	             X \ar[d]_{p} \ar[rd]^{f} & \\
	             X/R \ar[r]_{\exists !~ f'} &  Y
	    }
      \end{xy}
    \]
    that is,

%       \[  \left\{f : X \to Y \enspace | \enspace \constfont{iscompatible}(f) \right\} \quad \cong \quad X/R \to Y \]
     \[  \sum_{f : X \to Y}\constfont{iscompatible}(f) \quad \simeq \quad X/R \to Y \]
     (more precisely, the map given by precomposition with $p$ should be an equivalence).

\end{frame}


\begin{frame}
 \frametitle{Predicates on types}

    A \fat{subtype $A$} on a type $X$ is a map
    \[ A : X \to \hProp_U \]
  \begin{exercise}
   Show that the type of subtypes of $X$ is a set.
  \end{exercise}

  The \fat{carrier} of a subtype $A$ is the type of elements satisfying $A$:
  \[ \constfont{carrier}(A) := \sum_{x:X}A(x) \]

\end{frame}


\begin{frame}
 \frametitle{Relations on a type}

  A \fat{binary relation $R$} on a type $X$ is a map
  \[ R : X \to X \to \hProp_U \]

  \begin{exercise}
   Show that the type of binary relations on $X$ is a set.
  \end{exercise}

  Properties of such relations are defined as usual, e.g.,
  \[ \constfont{reflexive}(R) := \prod_{x : X} R(x)(x) \]

  \begin{exercise}
   Formulate the properties of being symmetric, transitive, an equivalence relation.
  \end{exercise}

\end{frame}

\begin{frame}
  \frametitle{The quotient set}
  To define the quotient $X/R$ of a set by an equivalence relation, we proceed as usual in set theory.

  First we define for a subtype $A:X\to\hProp_U$
  \[
    \begin{split}
    \constfont{iseqclass}(A) :=
    &\left\lVert\constfont{carrier}(A)\right\rVert\\
    \times&\prod_{x,y:A} R x y \to A x \to A y\\
    \times&\prod_{x,y:A} A x \to A y \to R x y
    \end{split}
  \]

  Then we define
  \[
    X/R := \sum_{A:X\to\hProp_U}\constfont{iseqclass}(A)
  \]
\end{frame}

\section{Set-level mathematics}

\begin{frame}
 \frametitle{Reminder: paths between pairs}

  Given $B : A \to \U$ and $a,a' : A$ and $b : B(a)$ and $b' : B(a')$,
    \[ (a,b) = (a',b') \quad \simeq \quad \sum_{p : a = a'} \Transfib{B}{p}{b} = b' \]
  If $B(x)$ is a proposition for any $x:A$, then this simplifies to
  \[ (a,b) = (a',b') \quad \simeq \quad a = a' \]

  \begin{exercise}
    Why?
  \end{exercise}
\end{frame}


% \begin{frame}
%  \frametitle{Natural numbers and their properties}
%
%   An \fat{even natural number} is
%   \begin{description}
%    \item [set-theoretically] a natural number that is even
%    \item [type-theoretically] a pair $(n,p)$ of a natural number $n : \Nat$ and a proof $p$ of its evenness
%   \end{description}
%
%     When comparing two even natural numbers, we want to compare them as numbers:
%
%     \[  (n, p) = (n',p') \quad \simeq \quad n = n' \]
%
%     The type $\constfont{iseven}(n)$ hence should be a proposition.
%
% \end{frame}


\begin{frame}
 \frametitle{Groups}

    Traditionally (in set theory), a group is a quadruple $(G,m, e, i)$ of
      \begin{itemize}
       \item a set $G$
       \item a multiplication $m : G\times G \to G$
       \item a unit $e \in G$
       \item an inverse $i : G \to G$
      \end{itemize}
     subject to the usual axioms.

\end{frame}

\begin{frame}
 \frametitle{Groups in type theory}

    In type theory, a group is a (dependent) pair $(data, proof)$ where
      \begin{itemize}
       \item $data$ is a quadruple $(G,m,e,i)$ as above
       \item $p$ is a proof that these satisfy the usual axioms.
      \end{itemize}

      \pause
      We want to regard two groups $(data, proof)$ and $(data', proof')$ as being the same if $data$ is the same as $data'$.

      \pause
      This requires that the type encoding the group axioms be a \emph{proposition}.

      \pause
      This is in turn guaranteed as long as the underlying type $G$ is required to be a \emph{set}.

      \begin{exercise}
        Why?
      \end{exercise}
\end{frame}

\begin{frame}
\frametitle{Group isomorphisms}

The type of groups is
     \[ \Grp := \sm{X : \hSet} \GrpStructure(X) \]

 \begin{block}{A \fat{group isomorphism $G \to G'$} is }
 \begin{itemize}
  \item a bijective function on the underlying sets $X \to X'$
  \item compatible with the group structures $S$ and $S'$ on $X$ and $X'$.
 \end{itemize}
 \end{block}

\end{frame}


\begin{frame}
 \frametitle{Identity is isomorphism for groups}
 \begin{align*}
     \id{G}{G'} \enspace & \simeq  \enspace \id{(X,S)}{(X',S')} \\
                          & \simeq \enspace \sum_{p : \id{X}{X'}} \id{\transfib{\GrpStructure}{p}{S}}{S'} \\
                          & \simeq \enspace \sum_{p : \id{X}{X'}} (\id{\transfib{Y \mapsto (Y \times Y \to Y)}{p}{m}}{m'})  \\
                                                                              &  \hspace{1.5cm} \times(\id{\transfib{Y \mapsto (Y \to Y)}{p}{i}}{i'}) \\
                                                                               & \hspace{1.5cm}  \times(\id{\transfib{Y \mapsto (1 \to Y)}{p}{e}}{e'}) \\
                          & \simeq \enspace \sum_{f : \eqv{X}{X'}} \bigl(\id{f \circ m \circ (f^{-1} \times f^{-1})}{m'}\bigr)  \\
                                   &             \hspace{1.5cm}                            \times \bigl(\id{f \circ i \circ f^{-1}}{i'}\bigr) \\
									       & \hspace{1.5cm}  \times(\id{f \circ e}{e'}) \\
                          & \simeq \enspace  (G \cong G')
 \end{align*}



\end{frame}


% \section{Exercises}
% \begin{frame}
%  \frametitle{Exercises}
%  \begin{itemize}
%   \item Show that booleans are a set.
%   \item Show that natural numbers are a set.
%   \item Do parts of the construction of set-level quotients.
%  \end{itemize}
%
% \end{frame}


\end{document}
